<div class="container-fluid">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-warning fw-bold mb-0">
      <i class="bi bi-graph-up me-2"></i>Reports & Analytics
    </h2>
    <div class="btn-group">
      <button class="btn btn-outline-warning">
        <i class="bi bi-download me-2"></i>Export Report
      </button>
      <button class="btn btn-warning text-dark">
        <i class="bi bi-calendar me-2"></i>Generate Report
      </button>
    </div>
  </div>

  <!-- Key Metrics Cards -->
  <div class="row mb-4">
    <div class="col-md-3 col-sm-6 mb-3">
      <div class="card h-100 border-warning">
        <div class="card-body text-center">
          <i class="bi bi-people-fill fs-1 text-warning mb-2"></i>
          <h3 class="card-title text-warning">{{ reportData.totalStudents }}</h3>
          <p class="card-text text-muted">Total Students</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
      <div class="card h-100 border-warning">
        <div class="card-body text-center">
          <i class="bi bi-book-fill fs-1 text-warning mb-2"></i>
          <h3 class="card-title text-warning">{{ reportData.totalCourses }}</h3>
          <p class="card-text text-muted">Total Courses</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
      <div class="card h-100 border-warning">
        <div class="card-body text-center">
          <i class="bi bi-file-earmark-text-fill fs-1 text-warning mb-2"></i>
          <h3 class="card-title text-warning">{{ reportData.totalAssignments }}</h3>
          <p class="card-text text-muted">Total Assignments</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6 mb-3">
      <div class="card h-100 border-warning">
        <div class="card-body text-center">
          <i class="bi bi-calendar-check-fill fs-1 text-warning mb-2"></i>
          <h3 class="card-title text-warning">{{ reportData.averageAttendance }}%</h3>
          <p class="card-text text-muted">Avg. Attendance</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Charts Row -->
  <div class="row mb-4">
    <div class="col-lg-4 mb-4">
      <div class="card h-100">
        <div class="card-header bg-warning text-dark fw-semibold">
          <i class="bi bi-pie-chart me-2"></i>Attendance Overview
        </div>
        <div class="card-body">
          <div class="chart-container">
            <div class="d-flex flex-column">
              <div class="d-flex align-items-center mb-2" *ngFor="let item of attendanceChart.labels; let i = index">
                <div class="legend-color me-2" [style.background-color]="attendanceChart.colors[i]"></div>
                <span class="flex-grow-1">{{ item }}</span>
                <span class="fw-semibold">{{ attendanceChart.data[i] }}%</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4 mb-4">
      <div class="card h-100">
        <div class="card-header bg-warning text-dark fw-semibold">
          <i class="bi bi-bar-chart me-2"></i>Course Enrollment
        </div>
        <div class="card-body">
          <div class="chart-container">
            <div class="d-flex flex-column">
              <div class="mb-2" *ngFor="let item of courseEnrollmentChart.labels; let i = index">
                <div class="d-flex justify-content-between align-items-center mb-1">
                  <span class="text-truncate" style="max-width: 120px;">{{ item }}</span>
                  <span class="fw-semibold">{{ courseEnrollmentChart.data[i] }}</span>
                </div>
                <div class="progress" style="height: 8px;">
                  <div class="progress-bar" [style.width.%]="(courseEnrollmentChart.data[i] / 35) * 100"
                       [style.background-color]="courseEnrollmentChart.colors[i]"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4 mb-4">
      <div class="card h-100">
        <div class="card-header bg-warning text-dark fw-semibold">
          <i class="bi bi-graph-up me-2"></i>Assignment Status
        </div>
        <div class="card-body">
          <div class="chart-container">
            <div class="d-flex flex-column">
              <div class="d-flex align-items-center mb-2" *ngFor="let item of assignmentSubmissionChart.labels; let i = index">
                <div class="legend-color me-2" [style.background-color]="assignmentSubmissionChart.colors[i]"></div>
                <span class="flex-grow-1">{{ item }}</span>
                <span class="fw-semibold">{{ assignmentSubmissionChart.data[i] }}%</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Monthly Attendance Trend -->
  <div class="row mb-4">
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-warning text-dark fw-semibold">
          <i class="bi bi-calendar me-2"></i>Monthly Attendance Trend
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-12" *ngFor="let data of monthlyAttendanceData">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <span class="fw-medium">{{ data.month }}</span>
                <span class="fw-semibold" [ngClass]="getPercentageColor(data.attendance)">{{ data.attendance }}%</span>
              </div>
              <div class="progress mb-3" style="height: 10px;">
                <div class="progress-bar" [ngClass]="getProgressBarColor(data.attendance)"
                     [style.width.%]="data.attendance"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Activities -->
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-warning text-dark fw-semibold">
          <i class="bi bi-activity me-2"></i>Recent Activities
        </div>
        <div class="card-body">
          <div class="list-group list-group-flush">
            <div class="list-group-item px-0" *ngFor="let activity of recentActivities">
              <div class="d-flex justify-content-between align-items-start">
                <div class="flex-grow-1">
                  <h6 class="mb-1 fw-semibold">{{ activity.action }}</h6>
                  <p class="mb-1 text-muted">{{ activity.details }}</p>
                  <small class="text-muted">{{ activity.timestamp }}</small>
                </div>
                <i class="bi bi-circle-fill text-warning ms-3 mt-1"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
