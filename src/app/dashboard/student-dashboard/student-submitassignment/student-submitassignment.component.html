<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Digital School — Submit Assignment</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root{--accent:#0d6efd;--card:#ffffff}
    body{background:linear-gradient(180deg,#f5f7fb 0%, #ffffff 100%);font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    .app-shell{min-height:100vh;padding:3.5rem 1rem}
    .panel{background:var(--card);border-radius:16px;box-shadow:0 8px 30px rgba(25,40,70,.06);padding:1.25rem}
    .logo{font-weight:800;color:var(--accent)}

    /* Upload area */
    .dropzone{border:2px dashed rgba(13,110,253,.12);border-radius:12px;padding:28px;text-align:center;transition:all .18s ease;background:#fbfdff}
    .dropzone.dragover{border-color:rgba(13,110,253,.6);box-shadow:0 6px 20px rgba(13,110,253,.06);transform:translateY(-3px)}
    .file-list .file-item{border-radius:10px;padding:.5rem;background:#f8f9ff;margin-bottom:.5rem}

    /* Assignment card */
    .assignment-card{border-radius:14px;overflow:hidden}
    .assignment-meta{font-size:.85rem;color:#6b7280}

    /* Small screens tweak */
    @media (max-width:575px){.app-shell{padding:2rem 0.5rem} .panel{padding:1rem}}
  </style>
</head>
<body>
  <div class="container app-shell">
    <div class="row g-4 align-items-start">

      <!-- Left column: Submit form -->
      <div class="col-xl-6 col-lg-7">
        <div class="panel">
          <div class="d-flex align-items-center justify-content-between mb-3">
            <div>
              <div class="logo d-flex align-items-center gap-2"><i class="bi bi-journal-check fs-4"></i><span class="fs-5">Digital School</span></div>
              <div class="text-muted">Assignment submission</div>
            </div>
            <div class="text-end">
              <small class="text-muted">Course: <strong>Mathematics — Grade 10</strong></small>
            </div>
          </div>

          <form id="submitForm" class="mb-3">
            <div class="mb-3">
              <label class="form-label">Assignment Title</label>
              <input id="title" class="form-control form-control-lg" placeholder="e.g. Chapter 5 — Algebraic Equations" required>
            </div>

            <div class="mb-3">
              <label class="form-label">Description (optional)</label>
              <textarea id="desc" rows="3" class="form-control" placeholder="Add notes for your teacher..."></textarea>
            </div>

            <label class="form-label">Upload files</label>
            <div id="dropzone" class="dropzone mb-2" tabindex="0">
              <div class="mb-2"><i class="bi bi-cloud-arrow-up fs-1"></i></div>
              <div class="fw-semibold">Drag &amp; drop files here</div>
              <div class="text-muted small">or <button type="button" id="browseBtn" class="btn btn-link p-0">browse</button> to choose files (PDF, DOCX, ZIP, JPG, PNG)</div>
              <input id="fileInput" type="file" multiple hidden>
            </div>

            <div class="file-list mb-3" id="fileList"></div>

            <div class="d-flex align-items-center justify-content-between">
              <div>
                <small class="text-muted">Due date: <strong id="dueDate">Oct 30, 2025 — 11:59 PM</strong></small>
              </div>
              <div>
                <button id="saveDraft" type="button" class="btn btn-outline-secondary me-2">Save draft</button>
                <button id="submitBtn" type="submit" class="btn btn-primary">Submit Assignment</button>
              </div>
            </div>
          </form>

          <div id="statusArea" class="mt-3"></div>
        </div>
      </div>

      <!-- Right column: Assignment list and history -->
      <div class="col-xl-6 col-lg-5">
        <div class="panel mb-3">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h6 class="mb-0">Active Assignments</h6>
            <small class="text-muted">2 open</small>
          </div>

          <div class="list-group">
            <div class="list-group-item assignment-card d-flex gap-3 align-items-start">
              <div class="flex-grow-1">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="mb-1">Algebra — Practice Problems</h6>
                    <div class="assignment-meta">Mathematics • Due Oct 30, 2025</div>
                  </div>
                  <div class="text-end">
                    <span class="badge bg-warning text-dark">Pending</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="list-group-item assignment-card d-flex gap-3 align-items-start">
              <div class="flex-grow-1">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="mb-1">Project: Geometry Model</h6>
                    <div class="assignment-meta">Mathematics • Due Nov 5, 2025</div>
                  </div>
                  <div class="text-end">
                    <span class="badge bg-success">Submitted</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h6 class="mb-0">Submission History</h6>
            <small class="text-muted">Latest</small>
          </div>

          <div class="table-responsive">
            <table class="table table-borderless align-middle mb-0">
              <thead class="small text-muted">
                <tr><th>Title</th><th>Status</th><th class="text-end">Date</th></tr>
              </thead>
              <tbody id="historyBody">
                <tr>
                  <td>Experiment — Probability</td>
                  <td><span class="badge bg-success">Graded</span></td>
                  <td class="text-end small text-muted">Oct 10, 2025</td>
                </tr>
                <tr>
                  <td>Geometry Homework</td>
                  <td><span class="badge bg-secondary">Draft</span></td>
                  <td class="text-end small text-muted">Oct 12, 2025</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    // Simple client-side behaviour to make the module interactive
    const dropzone = document.getElementById('dropzone');
    const fileInput = document.getElementById('fileInput');
    const browseBtn = document.getElementById('browseBtn');
    const fileList = document.getElementById('fileList');
    const submitForm = document.getElementById('submitForm');
    const statusArea = document.getElementById('statusArea');
    let files = [];

    browseBtn.addEventListener('click', () => fileInput.click());
    fileInput.addEventListener('change', (e)=> addFiles(Array.from(e.target.files)));

    dropzone.addEventListener('dragenter', (e)=>{e.preventDefault();dropzone.classList.add('dragover')});
    dropzone.addEventListener('dragover', (e)=>{e.preventDefault();dropzone.classList.add('dragover')});
    dropzone.addEventListener('dragleave', (e)=>{e.preventDefault();dropzone.classList.remove('dragover')});
    dropzone.addEventListener('drop', (e)=>{e.preventDefault();dropzone.classList.remove('dragover'); addFiles(Array.from(e.dataTransfer.files))});

    function addFiles(selected){
      selected.forEach(f=>{
        // basic size/type checks (client-side)
        if(f.size > 20*1024*1024) { alert(`${f.name} is larger than 20MB and was skipped.`); return; }
        files.push(f);
      });
      renderFileList();
    }

    function renderFileList(){
      fileList.innerHTML = '';
      files.forEach((f, idx)=>{
        const div = document.createElement('div'); div.className='file-item d-flex align-items-center justify-content-between';
        div.innerHTML = `<div class= 'd-flex gap-2 align-items-center'><i class='bi bi-file-earmark-text'></i><div><div class='fw-semibold'>${escapeHtml(f.name)}</div><div class='small text-muted'>${formatBytes(f.size)}</div></div></div><div><button class='btn btn-sm btn-outline-danger' data-idx='${idx}'>Remove</button></div>`;
        fileList.appendChild(div);
      });

      fileList.querySelectorAll('button[data-idx]').forEach(b=> b.addEventListener('click', (e)=>{
        const i = Number(e.currentTarget.dataset.idx); files.splice(i,1); renderFileList();
      }));
    }

    function formatBytes(bytes){ if(bytes===0) return '0 B'; const k=1024; const sizes=['B','KB','MB','GB']; const i=Math.floor(Math.log(bytes)/Math.log(k)); return parseFloat((bytes/Math.pow(k,i)).toFixed(2)) + ' ' + sizes[i]; }
    function escapeHtml(s){ return s.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;'); }

    submitForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      if(!document.getElementById('title').value.trim()){ alert('Please add a title.'); return; }
      if(files.length===0){ if(!confirm('No files attached. Submit text-only assignment?')) return; }

      // mock upload flow
      statusArea.innerHTML = `<div class='progress' style='height:12px'><div id='uploadBar' class='progress-bar progress-bar-striped progress-bar-animated' role='progressbar' style='width:0%'></div></div>`;
      let pct=0; const bar = document.getElementById('uploadBar');
      const t = setInterval(()=>{ pct+=8; bar.style.width = pct+'%'; if(pct>=100){ clearInterval(t); showSuccess(); } }, 200);
    });

    document.getElementById('saveDraft').addEventListener('click', ()=>{
      statusArea.innerHTML = `<div class='alert alert-info py-2'>Draft saved locally. You can continue later.</div>`;
    });

    function showSuccess(){
      statusArea.innerHTML = `<div class='alert alert-success py-2 d-flex align-items-center'><i class='bi bi-check-circle-fill me-2'></i>Assignment submitted successfully. <button id='viewBtn' class='btn btn-sm btn-link ms-3'>View submission</button></div>`;
      document.getElementById('viewBtn').addEventListener('click', ()=> alert('Open submission detail (this is a demo).'));
      // push to history table (demo)
      const tb = document.getElementById('historyBody');
      const row = document.createElement('tr');
      row.innerHTML = `<td>${escapeHtml(document.getElementById('title').value)}</td><td><span class='badge bg-success'>Submitted</span></td><td class='text-end small text-muted'>${new Date().toLocaleDateString()}</td>`;
      tb.prepend(row);
      // reset form
      submitForm.reset(); files=[]; renderFileList();
    }

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

