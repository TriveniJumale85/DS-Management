<!-- Floating Chat Icon -->
<div class="chat-icon shadow-lg" (click)="toggleChat()">
  ðŸ’¬
</div>
 
<!-- Chatbox -->
<div class="chat-container card shadow-lg animate__animated"
     *ngIf="isChatOpen"
     [class.animate__fadeInUp]="isChatOpen">
 
  <!-- Header -->
  <div class="card-header chat-header d-flex justify-content-between align-items-center">
    <span class="fw-bold">ðŸ’¡ Digital Classroom</span>
    <button class="btn btn-sm btn-light rounded-circle" (click)="toggleChat()">Ã—</button>
  </div>
 
  <!-- Chat Body -->
  <div class="card-body chat-body">
    <div *ngFor="let msg of messages" class="mb-2">
      <div [ngClass]="{'text-end': msg.sender === 'user', 'text-start': msg.sender === 'bot'}">
        <span [ngClass]="{
          'user-msg': msg.sender === 'user',
          'bot-msg': msg.sender === 'bot'
        }" class="p-2 rounded small d-inline-block">
          {{ msg.text }}
        </span>
      </div>
    </div>
  </div>
 
  <!-- Chat Footer -->
  <div class="card-footer bg-dark border-top border-warning">
    <div class="d-flex">
      <input [(ngModel)]="userMessage"
             (keyup.enter)="sendMessage()"
             placeholder="Type your message..."
             class="form-control me-2 border-0 rounded-pill shadow-sm">
      <button class="btn btn-warning text-dark fw-bold rounded-pill px-3" (click)="sendMessage()">
        Send
      </button>
    </div>
  </div>
</div>